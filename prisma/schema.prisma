datasource db {
  provider = "postgresql" // or your preferred database provider
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id       String   @id @default(uuid())
  email    String   @unique
  name     String?
  password String?
  provider Provider
  forms    Form[]   @relation("user")
}

model Form {
  id         String     @id @default(cuid())
  theme      String? // Optional
  fontFamily String? // Optional
  questions  Question[] // Relation to Question model
  userId     String? // Now optional
  user User? @relation(fields: [userId], references: [id], name: "user")
}

model Question {
  id                String   @id @default(cuid())
  type              String
  label             String
  description       String?
  required          Boolean
  options           String[] // Store options as an array
  image             String?
  validationMessage String?
  form              Form?    @relation(fields: [formId], references: [id])
  formId            String? // Foreign key reference to Form
}

enum Provider {
  Google
  Credentials
}
